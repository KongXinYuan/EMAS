<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.evmtv.epg.mapper.TSourceMapper" >
  <resultMap id="BaseResultMap" type="com.evmtv.epg.entity.TSource" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Nov 08 15:56:35 CST 2013.
    -->
    <id column="ID" property="id" jdbcType="BIGINT" />
    <result column="FResourceId" property="fresourceid" jdbcType="BIGINT" />
    <result column="FTimePeriodId" property="ftimeperiodid" jdbcType="BIGINT" />
    <result column="FPath" property="fpath" jdbcType="VARCHAR" />
    <result column="FChannelsId" property="fchannelsid" jdbcType="BIGINT" />
    <result column="FAdvId" property="fadvid" jdbcType="BIGINT" />
    <result column="FElementType" property="felementtype" jdbcType="VARCHAR" />
    <result column="FLeft" property="fleft" jdbcType="VARCHAR" />
    <result column="FTop" property="ftop" jdbcType="VARCHAR" />
    <result column="FOrder" property="forder" jdbcType="INTEGER" />
    <result column="FFile" property="ffile" jdbcType="VARCHAR" />
    <result column="FVersion" property="fversion" jdbcType="VARCHAR" />
    <result column="FName" property="fname" jdbcType="VARCHAR" />
    <result column="FCircleMethod" property="fcirclemethod" jdbcType="INTEGER" />
    <result column="FVisible" property="fvisible" jdbcType="INTEGER" />
    <result column="FOpacity" property="fopacity" jdbcType="INTEGER" />
    <result column="FWidth" property="fwidth" jdbcType="VARCHAR" />
    <result column="FHeight" property="fheight" jdbcType="VARCHAR" />
    <result column="FContractId" property="fcontractid" jdbcType="BIGINT" />
    <result column="FDuration" property="fduration" jdbcType="VARCHAR" />
    <result column="FTimes" property="ftimes" jdbcType="VARCHAR" />
    <result column="FSpeed" property="fspeed" jdbcType="VARCHAR" />
    <result column="FBackColor" property="fbackcolor" jdbcType="VARCHAR" />
    <result column="FFontColor" property="ffontcolor" jdbcType="VARCHAR" />
    <result column="FBranchId" property="fbranchid" jdbcType="BIGINT" />
    <result column="FScrollType" property="fscrolltype" jdbcType="INTEGER" />
    <result column="FPid" property="fpid" jdbcType="VARCHAR" />
    <result column="FTableId" property="ftableid" jdbcType="VARCHAR" />
    <result column="FDefinition" property="fdefinition" jdbcType="VARCHAR" />
    <result column="FCreateTime" property="fcreatetime" jdbcType="VARCHAR" />
    <result column="FCreateUserId" property="fcreateuserid" jdbcType="BIGINT" />
    <result column="FUpdateTime" property="fupdatetime" jdbcType="VARCHAR" />
    <result column="FUpdateUserId" property="fupdateuserid" jdbcType="BIGINT" />
    <result column="FFreezed" property="ffreezed" jdbcType="CHAR" />
    <result column="FDeleted" property="fdeleted" jdbcType="CHAR" />
    <result column="FChecked" property="fchecked" jdbcType="CHAR" />
    <result column="FGUID" property="fguid" jdbcType="VARCHAR" />
    <result column="FFlag" property="fflag" jdbcType="CHAR" />
    <result column="FExpand" property="fexpand" jdbcType="LONGVARCHAR" />
    <result column="FIsProvinceCompany" property="fisprovincecompany" jdbcType="CHAR" />
    <result column="FReleaseVersionId" property="freleaseversionid" jdbcType="BIGINT" />
  </resultMap>
  <resultMap id="ResultMapWithBLOBs" type="com.evmtv.epg.entity.TSourceWithBLOBs" extends="BaseResultMap" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Nov 08 15:56:35 CST 2013.
    -->
    <result column="FBitData" property="fbitdata" jdbcType="LONGVARBINARY" />
    <result column="FRawData" property="frawdata" jdbcType="LONGVARCHAR" />
    <result column="FRemark" property="fremark" jdbcType="LONGVARCHAR" />
  </resultMap>
  <sql id="Example_Where_Clause" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Nov 08 15:56:35 CST 2013.
    -->
    <where >
      <foreach collection="oredCriteria" item="criteria" separator="or" >
        <if test="criteria.valid" >
          <trim prefix="(" suffix=")" prefixOverrides="and" >
            <foreach collection="criteria.criteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Nov 08 15:56:35 CST 2013.
    -->
    <where >
      <foreach collection="example.oredCriteria" item="criteria" separator="or" >
        <if test="criteria.valid" >
          <trim prefix="(" suffix=")" prefixOverrides="and" >
            <foreach collection="criteria.criteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Nov 08 15:56:35 CST 2013.
    -->
    ID, FResourceId, FTimePeriodId, FPath, FChannelsId, FAdvId, FElementType, FLeft, 
    FTop, FOrder, FFile, FVersion, FName, FCircleMethod, FVisible, FOpacity, FWidth, 
    FHeight, FContractId, FDuration, FTimes, FSpeed, FBackColor, FFontColor, FBranchId, 
    FScrollType, FPid, FTableId, FDefinition, FCreateTime, FCreateUserId, FUpdateTime, FExpand, 
    FUpdateUserId, FFreezed, FDeleted, FChecked, FGUID, FFlag, FIsProvinceCompany, FReleaseVersionId
  </sql>
  <sql id="Blob_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Nov 08 15:56:35 CST 2013.
    -->
    FBitData, FRawData, FRemark
  </sql>
  <select id="selectByExampleWithBLOBs" resultMap="ResultMapWithBLOBs" parameterType="com.evmtv.epg.entity.TSourceExample" >
    select
    <if test="distinct" >
      distinct
    </if>
    t_source.*, car.ID carid,ca.ID caid,car.fusestarttime fstarttime,car.fuseendtime fendtime
    from t_source
	LEFT JOIN t_contract_adv_resource car ON car.id = t_source.fguid
	LEFT JOIN t_contract_adv ca ON ca.id = car.fcontractadvId
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null" >
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectByExample" resultMap="BaseResultMap" parameterType="com.evmtv.epg.entity.TSourceExample" >
    select t_source.*,a.FType,t.ID tid,t.FStartTime,t.FEndTime from t_source
    LEFT JOIN t_adv a ON a.ID = t_source.FAdvId
    LEFT JOIN t_time_period t ON t.ID = t_source.FTimePeriodId
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null" >
      order by ${orderByClause}
    </if>
    <if test="limit != 0">
        limit #{start,jdbcType=INTEGER},#{limit,jdbcType=INTEGER}
    </if>
  </select>
  <select id="selectByPrimaryKey" resultMap="ResultMapWithBLOBs" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Nov 08 15:56:35 CST 2013.
    -->
    select 
    <include refid="Base_Column_List" />
    ,
    <include refid="Blob_Column_List" />
    from t_source
    where ID = #{id,jdbcType=BIGINT}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Nov 08 15:56:35 CST 2013.
    -->
    delete from t_source
    where ID = #{id,jdbcType=BIGINT}
  </delete>
  <delete id="deleteByExample" parameterType="com.evmtv.epg.entity.TSourceExample" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Nov 08 15:56:35 CST 2013.
    -->
    delete from t_source
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="com.evmtv.epg.entity.TSourceWithBLOBs" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Nov 08 15:56:35 CST 2013.
    -->
    insert into t_source (ID, FResourceId, FTimePeriodId, 
      FPath, FChannelsId, FAdvId, 
      FElementType, FLeft, FTop, 
      FOrder, FFile, FVersion, 
      FName, FCircleMethod, FVisible, 
      FOpacity, FWidth, FHeight, 
      FContractId, FDuration, FTimes, 
      FSpeed, FBackColor, FFontColor, 
      FBranchId, FScrollType, FPid, 
      FTableId, FDefinition, FCreateTime, 
      FCreateUserId, FUpdateTime, FUpdateUserId, 
      FFreezed, FDeleted, FChecked, 
      FGUID, FFlag, FIsProvinceCompany, 
      FReleaseVersionId, FBitData, FRawData, 
      FRemark, FExpand)
    values (#{id,jdbcType=BIGINT}, #{fresourceid,jdbcType=BIGINT}, #{ftimeperiodid,jdbcType=BIGINT}, 
      #{fpath,jdbcType=VARCHAR}, #{fchannelsid,jdbcType=BIGINT}, #{fadvid,jdbcType=BIGINT}, 
      #{felementtype,jdbcType=VARCHAR}, #{fleft,jdbcType=VARCHAR}, #{ftop,jdbcType=VARCHAR}, 
      #{forder,jdbcType=INTEGER}, #{ffile,jdbcType=VARCHAR}, #{fversion,jdbcType=VARCHAR}, 
      #{fname,jdbcType=VARCHAR}, #{fcirclemethod,jdbcType=INTEGER}, #{fvisible,jdbcType=INTEGER}, 
      #{fopacity,jdbcType=INTEGER}, #{fwidth,jdbcType=VARCHAR}, #{fheight,jdbcType=VARCHAR}, 
      #{fcontractid,jdbcType=BIGINT}, #{fduration,jdbcType=VARCHAR}, #{ftimes,jdbcType=VARCHAR}, 
      #{fspeed,jdbcType=VARCHAR}, #{fbackcolor,jdbcType=VARCHAR}, #{ffontcolor,jdbcType=VARCHAR}, 
      #{fbranchid,jdbcType=BIGINT}, #{fscrolltype,jdbcType=INTEGER}, #{fpid,jdbcType=VARCHAR}, 
      #{ftableid,jdbcType=VARCHAR}, #{fdefinition,jdbcType=VARCHAR}, #{fcreatetime,jdbcType=VARCHAR}, 
      #{fcreateuserid,jdbcType=BIGINT}, #{fupdatetime,jdbcType=VARCHAR}, #{fupdateuserid,jdbcType=BIGINT}, 
      #{ffreezed,jdbcType=CHAR}, #{fdeleted,jdbcType=CHAR}, #{fchecked,jdbcType=CHAR}, 
      #{fguid,jdbcType=VARCHAR}, #{fflag,jdbcType=CHAR}, #{fisprovincecompany,jdbcType=CHAR}, 
      #{freleaseversionid,jdbcType=BIGINT}, #{fbitdata,jdbcType=LONGVARBINARY}, #{frawdata,jdbcType=LONGVARCHAR}, 
      #{fremark,jdbcType=LONGVARCHAR}, #{fexpand,jdbcType=LONGVARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.evmtv.epg.entity.TSourceWithBLOBs" keyProperty="id" useGeneratedKeys="true">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Nov 08 15:56:35 CST 2013.
    -->
    insert into t_source
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        ID,
      </if>
      <if test="fresourceid != null" >
        FResourceId,
      </if>
      <if test="ftimeperiodid != null" >
        FTimePeriodId,
      </if>
      <if test="fpath != null" >
        FPath,
      </if>
      <if test="fchannelsid != null" >
        FChannelsId,
      </if>
      <if test="fadvid != null" >
        FAdvId,
      </if>
      <if test="felementtype != null" >
        FElementType,
      </if>
      <if test="fleft != null" >
        FLeft,
      </if>
      <if test="ftop != null" >
        FTop,
      </if>
      <if test="forder != null" >
        FOrder,
      </if>
      <if test="ffile != null" >
        FFile,
      </if>
      <if test="fversion != null" >
        FVersion,
      </if>
      <if test="fname != null" >
        FName,
      </if>
      <if test="fcirclemethod != null" >
        FCircleMethod,
      </if>
      <if test="fvisible != null" >
        FVisible,
      </if>
      <if test="fopacity != null" >
        FOpacity,
      </if>
      <if test="fwidth != null" >
        FWidth,
      </if>
      <if test="fheight != null" >
        FHeight,
      </if>
      <if test="fcontractid != null" >
        FContractId,
      </if>
      <if test="fduration != null" >
        FDuration,
      </if>
      <if test="ftimes != null" >
        FTimes,
      </if>
      <if test="fspeed != null" >
        FSpeed,
      </if>
      <if test="fbackcolor != null" >
        FBackColor,
      </if>
      <if test="ffontcolor != null" >
        FFontColor,
      </if>
      <if test="fbranchid != null" >
        FBranchId,
      </if>
      <if test="fscrolltype != null" >
        FScrollType,
      </if>
      <if test="fpid != null" >
        FPid,
      </if>
      <if test="ftableid != null" >
        FTableId,
      </if>
      <if test="fdefinition != null" >
        FDefinition,
      </if>
      <if test="fcreatetime != null" >
        FCreateTime,
      </if>
      <if test="fcreateuserid != null" >
        FCreateUserId,
      </if>
      <if test="fupdatetime != null" >
        FUpdateTime,
      </if>
      <if test="fupdateuserid != null" >
        FUpdateUserId,
      </if>
      <if test="ffreezed != null" >
        FFreezed,
      </if>
      <if test="fdeleted != null" >
        FDeleted,
      </if>
      <if test="fchecked != null" >
        FChecked,
      </if>
      <if test="fguid != null" >
        FGUID,
      </if>
      <if test="fflag != null" >
        FFlag,
      </if>
      <if test="fisprovincecompany != null" >
        FIsProvinceCompany,
      </if>
      <if test="freleaseversionid != null" >
        FReleaseVersionId,
      </if>
      <if test="fbitdata != null" >
        FBitData,
      </if>
      <if test="frawdata != null" >
        FRawData,
      </if>
      <if test="fremark != null" >
        FRemark,
      </if>
      <if test="fexpand != null" >
        FExpand,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=BIGINT},
      </if>
      <if test="fresourceid != null" >
        #{fresourceid,jdbcType=BIGINT},
      </if>
      <if test="ftimeperiodid != null" >
        #{ftimeperiodid,jdbcType=BIGINT},
      </if>
      <if test="fpath != null" >
        #{fpath,jdbcType=VARCHAR},
      </if>
      <if test="fchannelsid != null" >
        #{fchannelsid,jdbcType=BIGINT},
      </if>
      <if test="fadvid != null" >
        #{fadvid,jdbcType=BIGINT},
      </if>
      <if test="felementtype != null" >
        #{felementtype,jdbcType=VARCHAR},
      </if>
      <if test="fleft != null" >
        #{fleft,jdbcType=VARCHAR},
      </if>
      <if test="ftop != null" >
        #{ftop,jdbcType=VARCHAR},
      </if>
      <if test="forder != null" >
        #{forder,jdbcType=INTEGER},
      </if>
      <if test="ffile != null" >
        #{ffile,jdbcType=VARCHAR},
      </if>
      <if test="fversion != null" >
        #{fversion,jdbcType=VARCHAR},
      </if>
      <if test="fname != null" >
        #{fname,jdbcType=VARCHAR},
      </if>
      <if test="fcirclemethod != null" >
        #{fcirclemethod,jdbcType=INTEGER},
      </if>
      <if test="fvisible != null" >
        #{fvisible,jdbcType=INTEGER},
      </if>
      <if test="fopacity != null" >
        #{fopacity,jdbcType=INTEGER},
      </if>
      <if test="fwidth != null" >
        #{fwidth,jdbcType=VARCHAR},
      </if>
      <if test="fheight != null" >
        #{fheight,jdbcType=VARCHAR},
      </if>
      <if test="fcontractid != null" >
        #{fcontractid,jdbcType=BIGINT},
      </if>
      <if test="fduration != null" >
        #{fduration,jdbcType=VARCHAR},
      </if>
      <if test="ftimes != null" >
        #{ftimes,jdbcType=VARCHAR},
      </if>
      <if test="fspeed != null" >
        #{fspeed,jdbcType=VARCHAR},
      </if>
      <if test="fbackcolor != null" >
        #{fbackcolor,jdbcType=VARCHAR},
      </if>
      <if test="ffontcolor != null" >
        #{ffontcolor,jdbcType=VARCHAR},
      </if>
      <if test="fbranchid != null" >
        #{fbranchid,jdbcType=BIGINT},
      </if>
      <if test="fscrolltype != null" >
        #{fscrolltype,jdbcType=INTEGER},
      </if>
      <if test="fpid != null" >
        #{fpid,jdbcType=VARCHAR},
      </if>
      <if test="ftableid != null" >
        #{ftableid,jdbcType=VARCHAR},
      </if>
      <if test="fdefinition != null" >
        #{fdefinition,jdbcType=VARCHAR},
      </if>
      <if test="fcreatetime != null" >
        #{fcreatetime,jdbcType=VARCHAR},
      </if>
      <if test="fcreateuserid != null" >
        #{fcreateuserid,jdbcType=BIGINT},
      </if>
      <if test="fupdatetime != null" >
        #{fupdatetime,jdbcType=VARCHAR},
      </if>
      <if test="fupdateuserid != null" >
        #{fupdateuserid,jdbcType=BIGINT},
      </if>
      <if test="ffreezed != null" >
        #{ffreezed,jdbcType=CHAR},
      </if>
      <if test="fdeleted != null" >
        #{fdeleted,jdbcType=CHAR},
      </if>
      <if test="fchecked != null" >
        #{fchecked,jdbcType=CHAR},
      </if>
      <if test="fguid != null" >
        #{fguid,jdbcType=VARCHAR},
      </if>
      <if test="fflag != null" >
        #{fflag,jdbcType=CHAR},
      </if>
      <if test="fisprovincecompany != null" >
        #{fisprovincecompany,jdbcType=CHAR},
      </if>
      <if test="freleaseversionid != null" >
        #{freleaseversionid,jdbcType=BIGINT},
      </if>
      <if test="fbitdata != null" >
        #{fbitdata,jdbcType=LONGVARBINARY},
      </if>
      <if test="frawdata != null" >
        #{frawdata,jdbcType=LONGVARCHAR},
      </if>
      <if test="fremark != null" >
        #{fremark,jdbcType=LONGVARCHAR},
      </if>
      <if test="fexpand != null" >
        #{fexpand,jdbcType=LONGVARCHAR},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="com.evmtv.epg.entity.TSourceExample" resultType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Nov 08 15:56:35 CST 2013.
    -->
    select count(*) from t_source
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Nov 08 15:56:35 CST 2013.
    -->
    update t_source
    <set >
      <if test="record.id != null" >
        ID = #{record.id,jdbcType=BIGINT},
      </if>
      <if test="record.fresourceid != null" >
        FResourceId = #{record.fresourceid,jdbcType=BIGINT},
      </if>
      <if test="record.ftimeperiodid != null" >
        FTimePeriodId = #{record.ftimeperiodid,jdbcType=BIGINT},
      </if>
      <if test="record.fpath != null" >
        FPath = #{record.fpath,jdbcType=VARCHAR},
      </if>
      <if test="record.fchannelsid != null" >
        FChannelsId = #{record.fchannelsid,jdbcType=BIGINT},
      </if>
      <if test="record.fadvid != null" >
        FAdvId = #{record.fadvid,jdbcType=BIGINT},
      </if>
      <if test="record.felementtype != null" >
        FElementType = #{record.felementtype,jdbcType=VARCHAR},
      </if>
      <if test="record.fleft != null" >
        FLeft = #{record.fleft,jdbcType=VARCHAR},
      </if>
      <if test="record.ftop != null" >
        FTop = #{record.ftop,jdbcType=VARCHAR},
      </if>
      <if test="record.forder != null" >
        FOrder = #{record.forder,jdbcType=INTEGER},
      </if>
      <if test="record.ffile != null" >
        FFile = #{record.ffile,jdbcType=VARCHAR},
      </if>
      <if test="record.fversion != null" >
        FVersion = #{record.fversion,jdbcType=VARCHAR},
      </if>
      <if test="record.fname != null" >
        FName = #{record.fname,jdbcType=VARCHAR},
      </if>
      <if test="record.fcirclemethod != null" >
        FCircleMethod = #{record.fcirclemethod,jdbcType=INTEGER},
      </if>
      <if test="record.fvisible != null" >
        FVisible = #{record.fvisible,jdbcType=INTEGER},
      </if>
      <if test="record.fopacity != null" >
        FOpacity = #{record.fopacity,jdbcType=INTEGER},
      </if>
      <if test="record.fwidth != null" >
        FWidth = #{record.fwidth,jdbcType=VARCHAR},
      </if>
      <if test="record.fheight != null" >
        FHeight = #{record.fheight,jdbcType=VARCHAR},
      </if>
      <if test="record.fcontractid != null" >
        FContractId = #{record.fcontractid,jdbcType=BIGINT},
      </if>
      <if test="record.fduration != null" >
        FDuration = #{record.fduration,jdbcType=VARCHAR},
      </if>
      <if test="record.ftimes != null" >
        FTimes = #{record.ftimes,jdbcType=VARCHAR},
      </if>
      <if test="record.fspeed != null" >
        FSpeed = #{record.fspeed,jdbcType=VARCHAR},
      </if>
      <if test="record.fbackcolor != null" >
        FBackColor = #{record.fbackcolor,jdbcType=VARCHAR},
      </if>
      <if test="record.ffontcolor != null" >
        FFontColor = #{record.ffontcolor,jdbcType=VARCHAR},
      </if>
      <if test="record.fbranchid != null" >
        FBranchId = #{record.fbranchid,jdbcType=BIGINT},
      </if>
      <if test="record.fscrolltype != null" >
        FScrollType = #{record.fscrolltype,jdbcType=INTEGER},
      </if>
      <if test="record.fpid != null" >
        FPid = #{record.fpid,jdbcType=VARCHAR},
      </if>
      <if test="record.ftableid != null" >
        FTableId = #{record.ftableid,jdbcType=VARCHAR},
      </if>
      <if test="record.fdefinition != null" >
        FDefinition = #{record.fdefinition,jdbcType=VARCHAR},
      </if>
      <if test="record.fcreatetime != null" >
        FCreateTime = #{record.fcreatetime,jdbcType=VARCHAR},
      </if>
      <if test="record.fcreateuserid != null" >
        FCreateUserId = #{record.fcreateuserid,jdbcType=BIGINT},
      </if>
      <if test="record.fupdatetime != null" >
        FUpdateTime = #{record.fupdatetime,jdbcType=VARCHAR},
      </if>
      <if test="record.fupdateuserid != null" >
        FUpdateUserId = #{record.fupdateuserid,jdbcType=BIGINT},
      </if>
      <if test="record.ffreezed != null" >
        FFreezed = #{record.ffreezed,jdbcType=CHAR},
      </if>
      <if test="record.fdeleted != null" >
        FDeleted = #{record.fdeleted,jdbcType=CHAR},
      </if>
      <if test="record.fchecked != null" >
        FChecked = #{record.fchecked,jdbcType=CHAR},
      </if>
      <if test="record.fguid != null" >
        FGUID = #{record.fguid,jdbcType=VARCHAR},
      </if>
      <if test="record.fflag != null" >
        FFlag = #{record.fflag,jdbcType=CHAR},
      </if>
      <if test="record.fisprovincecompany != null" >
        FIsProvinceCompany = #{record.fisprovincecompany,jdbcType=CHAR},
      </if>
      <if test="record.freleaseversionid != null" >
        FReleaseVersionId = #{record.freleaseversionid,jdbcType=BIGINT},
      </if>
      <if test="record.fbitdata != null" >
        FBitData = #{record.fbitdata,jdbcType=LONGVARBINARY},
      </if>
      <if test="record.frawdata != null" >
        FRawData = #{record.frawdata,jdbcType=LONGVARCHAR},
      </if>
      <if test="record.fremark != null" >
        FRemark = #{record.fremark,jdbcType=LONGVARCHAR},
      </if>
      <if test="record.fexpand != null" >
        FExpand = #{record.fexpand,jdbcType=LONGVARCHAR},
      </if>
    </set>
    <if test="_parameter != null" >
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExampleWithBLOBs" parameterType="map" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Nov 08 15:56:35 CST 2013.
    -->
    update t_source
    set ID = #{record.id,jdbcType=BIGINT},
      FResourceId = #{record.fresourceid,jdbcType=BIGINT},
      FTimePeriodId = #{record.ftimeperiodid,jdbcType=BIGINT},
      FPath = #{record.fpath,jdbcType=VARCHAR},
      FChannelsId = #{record.fchannelsid,jdbcType=BIGINT},
      FAdvId = #{record.fadvid,jdbcType=BIGINT},
      FElementType = #{record.felementtype,jdbcType=VARCHAR},
      FLeft = #{record.fleft,jdbcType=VARCHAR},
      FTop = #{record.ftop,jdbcType=VARCHAR},
      FOrder = #{record.forder,jdbcType=INTEGER},
      FFile = #{record.ffile,jdbcType=VARCHAR},
      FVersion = #{record.fversion,jdbcType=VARCHAR},
      FName = #{record.fname,jdbcType=VARCHAR},
      FCircleMethod = #{record.fcirclemethod,jdbcType=INTEGER},
      FVisible = #{record.fvisible,jdbcType=INTEGER},
      FOpacity = #{record.fopacity,jdbcType=INTEGER},
      FWidth = #{record.fwidth,jdbcType=VARCHAR},
      FHeight = #{record.fheight,jdbcType=VARCHAR},
      FContractId = #{record.fcontractid,jdbcType=BIGINT},
      FDuration = #{record.fduration,jdbcType=VARCHAR},
      FTimes = #{record.ftimes,jdbcType=VARCHAR},
      FSpeed = #{record.fspeed,jdbcType=VARCHAR},
      FBackColor = #{record.fbackcolor,jdbcType=VARCHAR},
      FFontColor = #{record.ffontcolor,jdbcType=VARCHAR},
      FBranchId = #{record.fbranchid,jdbcType=BIGINT},
      FScrollType = #{record.fscrolltype,jdbcType=INTEGER},
      FPid = #{record.fpid,jdbcType=VARCHAR},
      FTableId = #{record.ftableid,jdbcType=VARCHAR},
      FDefinition = #{record.fdefinition,jdbcType=VARCHAR},
      FCreateTime = #{record.fcreatetime,jdbcType=VARCHAR},
      FCreateUserId = #{record.fcreateuserid,jdbcType=BIGINT},
      FUpdateTime = #{record.fupdatetime,jdbcType=VARCHAR},
      FUpdateUserId = #{record.fupdateuserid,jdbcType=BIGINT},
      FFreezed = #{record.ffreezed,jdbcType=CHAR},
      FDeleted = #{record.fdeleted,jdbcType=CHAR},
      FChecked = #{record.fchecked,jdbcType=CHAR},
      FGUID = #{record.fguid,jdbcType=VARCHAR},
      FFlag = #{record.fflag,jdbcType=CHAR},
      FIsProvinceCompany = #{record.fisprovincecompany,jdbcType=CHAR},
      FReleaseVersionId = #{record.freleaseversionid,jdbcType=BIGINT},
      FBitData = #{record.fbitdata,jdbcType=LONGVARBINARY},
      FRawData = #{record.frawdata,jdbcType=LONGVARCHAR},
      FRemark = #{record.fremark,jdbcType=LONGVARCHAR},
      FExpand = #{record.fexpand,jdbcType=LONGVARCHAR}
    <if test="_parameter != null" >
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Nov 08 15:56:35 CST 2013.
    -->
    update t_source
    set ID = #{record.id,jdbcType=BIGINT},
      FResourceId = #{record.fresourceid,jdbcType=BIGINT},
      FTimePeriodId = #{record.ftimeperiodid,jdbcType=BIGINT},
      FPath = #{record.fpath,jdbcType=VARCHAR},
      FChannelsId = #{record.fchannelsid,jdbcType=BIGINT},
      FAdvId = #{record.fadvid,jdbcType=BIGINT},
      FElementType = #{record.felementtype,jdbcType=VARCHAR},
      FLeft = #{record.fleft,jdbcType=VARCHAR},
      FTop = #{record.ftop,jdbcType=VARCHAR},
      FOrder = #{record.forder,jdbcType=INTEGER},
      FFile = #{record.ffile,jdbcType=VARCHAR},
      FVersion = #{record.fversion,jdbcType=VARCHAR},
      FName = #{record.fname,jdbcType=VARCHAR},
      FCircleMethod = #{record.fcirclemethod,jdbcType=INTEGER},
      FVisible = #{record.fvisible,jdbcType=INTEGER},
      FOpacity = #{record.fopacity,jdbcType=INTEGER},
      FWidth = #{record.fwidth,jdbcType=VARCHAR},
      FHeight = #{record.fheight,jdbcType=VARCHAR},
      FContractId = #{record.fcontractid,jdbcType=BIGINT},
      FDuration = #{record.fduration,jdbcType=VARCHAR},
      FTimes = #{record.ftimes,jdbcType=VARCHAR},
      FSpeed = #{record.fspeed,jdbcType=VARCHAR},
      FBackColor = #{record.fbackcolor,jdbcType=VARCHAR},
      FFontColor = #{record.ffontcolor,jdbcType=VARCHAR},
      FBranchId = #{record.fbranchid,jdbcType=BIGINT},
      FScrollType = #{record.fscrolltype,jdbcType=INTEGER},
      FPid = #{record.fpid,jdbcType=VARCHAR},
      FTableId = #{record.ftableid,jdbcType=VARCHAR},
      FDefinition = #{record.fdefinition,jdbcType=VARCHAR},
      FCreateTime = #{record.fcreatetime,jdbcType=VARCHAR},
      FCreateUserId = #{record.fcreateuserid,jdbcType=BIGINT},
      FUpdateTime = #{record.fupdatetime,jdbcType=VARCHAR},
      FUpdateUserId = #{record.fupdateuserid,jdbcType=BIGINT},
      FFreezed = #{record.ffreezed,jdbcType=CHAR},
      FDeleted = #{record.fdeleted,jdbcType=CHAR},
      FChecked = #{record.fchecked,jdbcType=CHAR},
      FGUID = #{record.fguid,jdbcType=VARCHAR},
      FFlag = #{record.fflag,jdbcType=CHAR},
      FIsProvinceCompany = #{record.fisprovincecompany,jdbcType=CHAR},
      FReleaseVersionId = #{record.freleaseversionid,jdbcType=BIGINT}
    <if test="_parameter != null" >
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="com.evmtv.epg.entity.TSourceWithBLOBs" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Nov 08 15:56:35 CST 2013.
    -->
    update t_source
    <set >
      <if test="fresourceid != null" >
        FResourceId = #{fresourceid,jdbcType=BIGINT},
      </if>
      <if test="ftimeperiodid != null" >
        FTimePeriodId = #{ftimeperiodid,jdbcType=BIGINT},
      </if>
      <if test="fpath != null" >
        FPath = #{fpath,jdbcType=VARCHAR},
      </if>
      <if test="fchannelsid != null" >
        FChannelsId = #{fchannelsid,jdbcType=BIGINT},
      </if>
      <if test="fadvid != null" >
        FAdvId = #{fadvid,jdbcType=BIGINT},
      </if>
      <if test="felementtype != null" >
        FElementType = #{felementtype,jdbcType=VARCHAR},
      </if>
      <if test="fleft != null" >
        FLeft = #{fleft,jdbcType=VARCHAR},
      </if>
      <if test="ftop != null" >
        FTop = #{ftop,jdbcType=VARCHAR},
      </if>
      <if test="forder != null" >
        FOrder = #{forder,jdbcType=INTEGER},
      </if>
      <if test="ffile != null" >
        FFile = #{ffile,jdbcType=VARCHAR},
      </if>
      <if test="fversion != null" >
        FVersion = #{fversion,jdbcType=VARCHAR},
      </if>
      <if test="fname != null" >
        FName = #{fname,jdbcType=VARCHAR},
      </if>
      <if test="fcirclemethod != null" >
        FCircleMethod = #{fcirclemethod,jdbcType=INTEGER},
      </if>
      <if test="fvisible != null" >
        FVisible = #{fvisible,jdbcType=INTEGER},
      </if>
      <if test="fopacity != null" >
        FOpacity = #{fopacity,jdbcType=INTEGER},
      </if>
      <if test="fwidth != null" >
        FWidth = #{fwidth,jdbcType=VARCHAR},
      </if>
      <if test="fheight != null" >
        FHeight = #{fheight,jdbcType=VARCHAR},
      </if>
      <if test="fcontractid != null" >
        FContractId = #{fcontractid,jdbcType=BIGINT},
      </if>
      <if test="fduration != null" >
        FDuration = #{fduration,jdbcType=VARCHAR},
      </if>
      <if test="ftimes != null" >
        FTimes = #{ftimes,jdbcType=VARCHAR},
      </if>
      <if test="fspeed != null" >
        FSpeed = #{fspeed,jdbcType=VARCHAR},
      </if>
      <if test="fbackcolor != null" >
        FBackColor = #{fbackcolor,jdbcType=VARCHAR},
      </if>
      <if test="ffontcolor != null" >
        FFontColor = #{ffontcolor,jdbcType=VARCHAR},
      </if>
      <if test="fbranchid != null" >
        FBranchId = #{fbranchid,jdbcType=BIGINT},
      </if>
      <if test="fscrolltype != null" >
        FScrollType = #{fscrolltype,jdbcType=INTEGER},
      </if>
      <if test="fpid != null" >
        FPid = #{fpid,jdbcType=VARCHAR},
      </if>
      <if test="ftableid != null" >
        FTableId = #{ftableid,jdbcType=VARCHAR},
      </if>
      <if test="fdefinition != null" >
        FDefinition = #{fdefinition,jdbcType=VARCHAR},
      </if>
      <if test="fcreatetime != null" >
        FCreateTime = #{fcreatetime,jdbcType=VARCHAR},
      </if>
      <if test="fcreateuserid != null" >
        FCreateUserId = #{fcreateuserid,jdbcType=BIGINT},
      </if>
      <if test="fupdatetime != null" >
        FUpdateTime = #{fupdatetime,jdbcType=VARCHAR},
      </if>
      <if test="fupdateuserid != null" >
        FUpdateUserId = #{fupdateuserid,jdbcType=BIGINT},
      </if>
      <if test="ffreezed != null" >
        FFreezed = #{ffreezed,jdbcType=CHAR},
      </if>
      <if test="fdeleted != null" >
        FDeleted = #{fdeleted,jdbcType=CHAR},
      </if>
      <if test="fchecked != null" >
        FChecked = #{fchecked,jdbcType=CHAR},
      </if>
      <if test="fguid != null" >
        FGUID = #{fguid,jdbcType=VARCHAR},
      </if>
      <if test="fflag != null" >
        FFlag = #{fflag,jdbcType=CHAR},
      </if>
      <if test="fisprovincecompany != null" >
        FIsProvinceCompany = #{fisprovincecompany,jdbcType=CHAR},
      </if>
      <if test="freleaseversionid != null" >
        FReleaseVersionId = #{freleaseversionid,jdbcType=BIGINT},
      </if>
      <if test="fbitdata != null" >
        FBitData = #{fbitdata,jdbcType=LONGVARBINARY},
      </if>
      <if test="frawdata != null" >
        FRawData = #{frawdata,jdbcType=LONGVARCHAR},
      </if>
      <if test="fremark != null" >
        FRemark = #{fremark,jdbcType=LONGVARCHAR},
      </if>
      <if test="fexpand != null" >
        FExpand = #{fexpand,jdbcType=LONGVARCHAR},
      </if>
    </set>
    where ID = #{id,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKeyWithBLOBs" parameterType="com.evmtv.epg.entity.TSourceWithBLOBs" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Nov 08 15:56:35 CST 2013.
    -->
    update t_source
    set FResourceId = #{fresourceid,jdbcType=BIGINT},
      FTimePeriodId = #{ftimeperiodid,jdbcType=BIGINT},
      FPath = #{fpath,jdbcType=VARCHAR},
      FChannelsId = #{fchannelsid,jdbcType=BIGINT},
      FAdvId = #{fadvid,jdbcType=BIGINT},
      FElementType = #{felementtype,jdbcType=VARCHAR},
      FLeft = #{fleft,jdbcType=VARCHAR},
      FTop = #{ftop,jdbcType=VARCHAR},
      FOrder = #{forder,jdbcType=INTEGER},
      FFile = #{ffile,jdbcType=VARCHAR},
      FVersion = #{fversion,jdbcType=VARCHAR},
      FName = #{fname,jdbcType=VARCHAR},
      FCircleMethod = #{fcirclemethod,jdbcType=INTEGER},
      FVisible = #{fvisible,jdbcType=INTEGER},
      FOpacity = #{fopacity,jdbcType=INTEGER},
      FWidth = #{fwidth,jdbcType=VARCHAR},
      FHeight = #{fheight,jdbcType=VARCHAR},
      FContractId = #{fcontractid,jdbcType=BIGINT},
      FDuration = #{fduration,jdbcType=VARCHAR},
      FTimes = #{ftimes,jdbcType=VARCHAR},
      FSpeed = #{fspeed,jdbcType=VARCHAR},
      FBackColor = #{fbackcolor,jdbcType=VARCHAR},
      FFontColor = #{ffontcolor,jdbcType=VARCHAR},
      FBranchId = #{fbranchid,jdbcType=BIGINT},
      FScrollType = #{fscrolltype,jdbcType=INTEGER},
      FPid = #{fpid,jdbcType=VARCHAR},
      FTableId = #{ftableid,jdbcType=VARCHAR},
      FDefinition = #{fdefinition,jdbcType=VARCHAR},
      FCreateTime = #{fcreatetime,jdbcType=VARCHAR},
      FCreateUserId = #{fcreateuserid,jdbcType=BIGINT},
      FUpdateTime = #{fupdatetime,jdbcType=VARCHAR},
      FUpdateUserId = #{fupdateuserid,jdbcType=BIGINT},
      FFreezed = #{ffreezed,jdbcType=CHAR},
      FDeleted = #{fdeleted,jdbcType=CHAR},
      FChecked = #{fchecked,jdbcType=CHAR},
      FGUID = #{fguid,jdbcType=VARCHAR},
      FFlag = #{fflag,jdbcType=CHAR},
      FIsProvinceCompany = #{fisprovincecompany,jdbcType=CHAR},
      FReleaseVersionId = #{freleaseversionid,jdbcType=BIGINT},
      FBitData = #{fbitdata,jdbcType=LONGVARBINARY},
      FRawData = #{frawdata,jdbcType=LONGVARCHAR},
      FRemark = #{fremark,jdbcType=LONGVARCHAR},
      FExpand = #{fexpand,jdbcType=LONGVARCHAR}
    where ID = #{id,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.evmtv.epg.entity.TSource" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Nov 08 15:56:35 CST 2013.
    -->
    update t_source
    set FResourceId = #{fresourceid,jdbcType=BIGINT},
      FTimePeriodId = #{ftimeperiodid,jdbcType=BIGINT},
      FPath = #{fpath,jdbcType=VARCHAR},
      FChannelsId = #{fchannelsid,jdbcType=BIGINT},
      FAdvId = #{fadvid,jdbcType=BIGINT},
      FElementType = #{felementtype,jdbcType=VARCHAR},
      FLeft = #{fleft,jdbcType=VARCHAR},
      FTop = #{ftop,jdbcType=VARCHAR},
      FOrder = #{forder,jdbcType=INTEGER},
      FFile = #{ffile,jdbcType=VARCHAR},
      FVersion = #{fversion,jdbcType=VARCHAR},
      FName = #{fname,jdbcType=VARCHAR},
      FCircleMethod = #{fcirclemethod,jdbcType=INTEGER},
      FVisible = #{fvisible,jdbcType=INTEGER},
      FOpacity = #{fopacity,jdbcType=INTEGER},
      FWidth = #{fwidth,jdbcType=VARCHAR},
      FHeight = #{fheight,jdbcType=VARCHAR},
      FContractId = #{fcontractid,jdbcType=BIGINT},
      FDuration = #{fduration,jdbcType=VARCHAR},
      FTimes = #{ftimes,jdbcType=VARCHAR},
      FSpeed = #{fspeed,jdbcType=VARCHAR},
      FBackColor = #{fbackcolor,jdbcType=VARCHAR},
      FFontColor = #{ffontcolor,jdbcType=VARCHAR},
      FBranchId = #{fbranchid,jdbcType=BIGINT},
      FScrollType = #{fscrolltype,jdbcType=INTEGER},
      FPid = #{fpid,jdbcType=VARCHAR},
      FTableId = #{ftableid,jdbcType=VARCHAR},
      FDefinition = #{fdefinition,jdbcType=VARCHAR},
      FCreateTime = #{fcreatetime,jdbcType=VARCHAR},
      FCreateUserId = #{fcreateuserid,jdbcType=BIGINT},
      FUpdateTime = #{fupdatetime,jdbcType=VARCHAR},
      FUpdateUserId = #{fupdateuserid,jdbcType=BIGINT},
      FFreezed = #{ffreezed,jdbcType=CHAR},
      FDeleted = #{fdeleted,jdbcType=CHAR},
      FChecked = #{fchecked,jdbcType=CHAR},
      FGUID = #{fguid,jdbcType=VARCHAR},
      FFlag = #{fflag,jdbcType=CHAR},
      FIsProvinceCompany = #{fisprovincecompany,jdbcType=CHAR},
      FReleaseVersionId = #{freleaseversionid,jdbcType=BIGINT}
    where ID = #{id,jdbcType=BIGINT}
  </update>
  <sql id="Base_Column_List_With" >
    t_source.ID,t_source.FBranchId, t_source.FResourceId, t_time_period.fstarttime as fstarttime, 
    t_time_period.fendtime as fendtime, t_source.FPath as FPath, t_adv.FType as ftype,
    t_adv.fpositionid as fpositionid, t_source.FElementType, t_source.FOrder, t_source.FFile, 
    t_source.FVersion, t_source.FWidth, t_source.FHeight, t_branch.FName as branch, 
    t_source.FDefinition, t_source.FCreateTime, t_user.fname as fuser, t_source.FDeleted, 
    t_source.FChecked, t_source.FFlag, t_source.FExpand, t_source.FDuration,t_source.FTimeperiodId
  </sql>
    <!-- 根据id查询 -->
  <select id="selectById" resultType="com.evmtv.epg.entity.TSource" parameterType="com.evmtv.epg.entity.TSource" >
    select
    <include refid="Base_Column_List_With" />
    from t_source
    	left join t_user on t_source.fcreateuserid = t_user.id
		left join t_channels on t_source.fchannelsid = t_channels.id
		left join t_time_period on t_source.ftimeperiodid = t_time_period.id
		left join t_branch on t_source.fbranchid = t_branch.id
		left join t_adv on t_source.fadvid = t_adv.id
    <where>
        t_source.Id = #{id,jdbcType=BIGINT}
    </where>
  </select>
  <select id="selectByExampleWith" resultMap="ResultMapWithBLOBs" parameterType="com.evmtv.epg.entity.TSource" >
    select
    <include refid="Base_Column_List_With" />
    from t_source
    	left join t_user on t_source.fcreateuserid = t_user.id
		left join t_channels on t_source.fchannelsid = t_channels.id
		left join t_time_period on t_source.ftimeperiodid = t_time_period.id
		left join t_branch on t_source.fbranchid = t_branch.id
		left join t_adv on t_source.fadvid = t_adv.id
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
        <if test="temp != null">
          and ${temp}
        </if>
    </if>
    <if test="orderByClause != null" >
      order by ${orderByClause}
    </if>
    <if test="limit != 0">
    	limit #{start,jdbcType=INTEGER},#{limit,jdbcType=INTEGER}
    </if>
  </select>
  
  <!-- 广告发布 -->
  <select id="selectViewRelease" resultMap="ResultMapWithBLOBs" parameterType="com.evmtv.epg.entity.TSource" >
    SELECT s.ID,s.FBranchId, s.FResourceId,s.FPath, a.FType,
    s.FTimeperiodId,s.FAdvId,s.FElementType,s.FVersion,
    s.FFile,s.FWidth, s.FHeight, s.FExpand, s.FDuration,
	s.FDefinition, s.FCreateTime, s.FDeleted,s.FChecked, s.FFlag,
	b.FName as branch,u.fname as fuser, a.fpositionid,t.fstarttime, 
    t.fendtime, c.FTitle FName,car.FUseStartTime fplaydate,
	car.FUseEndTime fenddate,ca.FContractId,car.ID carid
	<if test="release == 1">
		,r.FCreateTime,r.FIsUsing,r.FVersion
	</if>
    FROM t_source s
	<if test="release == 1">
    	LEFT JOIN t_branch_source_release r ON r.FSourceId = s.ID
    </if>
    LEFT JOIN t_user u ON u.id = s.fcreateuserid
	LEFT JOIN t_time_period t ON t.id = s.ftimeperiodid
	LEFT JOIN t_branch b ON b.id = s.fbranchid
	LEFT JOIN t_adv a ON a.id = s.fadvid
	LEFT JOIN t_contract_adv_resource car ON car.id = s.fguid
	LEFT JOIN t_contract_adv ca ON ca.id = car.fcontractadvId
	LEFT JOIN t_contract c ON c.id = ca.FContractId
	WHERE
	<if test="release == 1">
	    r.fbranchid = #{fbranchid,jdbcType=BIGINT}
	    <!--  ( s.ID IN (SELECT bsr.FSourceId FROM t_branch_source_release bsr WHERE bsr.fbranchid = #{fbranchid,jdbcType=BIGINT}))  -->
	    <!--  r.ID IS NOT NULL -->
	</if>
	<if test="release == 0">
	     ( s.ID NOT IN (SELECT bsr.FSourceId FROM t_branch_source_release bsr WHERE bsr.fbranchid = #{fbranchid,jdbcType=BIGINT}))
		<!-- r.ID IS NULL -->
		<if test="advIdList != null">
			AND s.FAdvId IN 
			<foreach item="advId" index="index" collection="advIdList" open="(" separator="," close=")">
		    	#{advId}
		    </foreach> 
		</if>
		<if test="nodeid != null">
		    AND car.FNodeId = #{nodeid,jdbcType=BIGINT}
		</if>
	</if>
    <if test="idList != null">
		AND s.ID IN 
		<foreach item="id" index="index" collection="idList" open="(" separator="," close=")">
	    	#{id}
	    </foreach> 
	</if>
	<if test="fadvid != null">
	    AND s.FAdvid = #{fadvid,jdbcType=BIGINT}
	</if>
	<if test="queryKeyWord != null">
	    AND c.FTitle LIKE '%${queryKeyWord}%'
	</if>
	<if test="queryStartTime != null and queryEndTime != null">
	    AND s.FCreateTime BETWEEN #{queryStartTime,jdbcType=VARCHAR} AND #{queryEndTime,jdbcType=VARCHAR}
	</if>
	<if test="release == 1">
		<if test="fisusing != null">
		    AND r.FIsUsing = #{fisusing,jdbcType=CHAR}
		</if>
		<if test="fupdatetime != null">
		    AND r.FUpdateTime = #{fupdatetime,jdbcType=VARCHAR}
		</if>
		<if test="fversion != null">
		    AND r.FVersion = #{fversion,jdbcType=VARCHAR}
		</if>
		ORDER BY r.FVersion DESC
	</if>
    <if test="limit != 0">
        limit #{start,jdbcType=INTEGER},#{limit,jdbcType=INTEGER}
    </if>
  </select>
 <select id="countViewRelease" parameterType="com.evmtv.epg.entity.TSource" resultType="java.lang.Integer" >
    select count(*) FROM t_source s
	<if test="release == 1">
    	LEFT JOIN t_branch_source_release r ON r.FSourceId = s.ID
    </if>
	LEFT JOIN t_contract_adv_resource car ON car.id = s.fguid
	LEFT JOIN t_contract_adv ca ON ca.id = car.fcontractadvId
	LEFT JOIN t_contract c ON c.id = ca.FContractId
	WHERE
	<if test="release == 1">
	    r.fbranchid = #{fbranchid,jdbcType=BIGINT}
	     <!-- ( s.ID IN (SELECT bsr.FSourceId FROM t_branch_source_release bsr WHERE bsr.fbranchid = #{fbranchid,jdbcType=BIGINT})) --> 
	</if>
	<if test="release == 0">
	     ( s.ID NOT IN (SELECT bsr.FSourceId FROM t_branch_source_release bsr WHERE bsr.fbranchid = #{fbranchid,jdbcType=BIGINT}))  
		<if test="advIdList != null">
			AND s.FAdvId IN 
			<foreach item="advId" index="index" collection="advIdList" open="(" separator="," close=")">
		    	#{advId}
		    </foreach> 
		</if>
		<if test="nodeid != null">
		    AND car.FNodeId = #{nodeid,jdbcType=BIGINT}
		</if>
	</if>
	<if test="fadvid != null">
	    AND s.FAdvid = #{fadvid,jdbcType=BIGINT}
	</if>
	<if test="release == 1">
		<if test="fisusing != null">
		    AND r.FIsUsing = #{fisusing,jdbcType=CHAR}
		</if>
		<if test="fupdatetime != null">
		    AND r.FUpdateTime = #{fupdatetime,jdbcType=VARCHAR}
		</if>
		<if test="fversion != null">
		    AND r.FVersion = #{fversion,jdbcType=VARCHAR}
		</if>
	</if>
	<if test="queryKeyWord != null">
	    AND c.FTitle LIKE '%${queryKeyWord}%'
	</if>
	<if test="queryStartTime != null and queryEndTime != null">
	    AND s.FCreateTime BETWEEN #{queryStartTime,jdbcType=VARCHAR} AND #{queryEndTime,jdbcType=VARCHAR}
	</if>
  </select>
  <!-- 广告编辑页面 -->
  <select id="select" resultMap="BaseResultMap" parameterType="com.evmtv.epg.entity.TSource" >
   SELECT DISTINCT
	s.ID,s.FBranchId, s.FResourceId, s.FPath, a.FType,s.FTimeperiodId,
    s.FFile,s.FVersion, s.FWidth, s.FHeight, s.FExpand, s.FDuration,
	s.FDefinition, s.FCreateTime, s.FDeleted,s.FChecked, s.FFlag,
	b.FName as branch,u.fname as fuser, a.fpositionid,t.fstarttime, 
    t.fendtime, c.FTitle FName,c.FStartTime startdate,
	c.FEndTime enddate,ca.FContractId,car.ID carid,ca.ID caid
    FROM t_source s
    LEFT JOIN t_user u ON u.id = s.fcreateuserid
	LEFT JOIN t_time_period t ON t.id = s.ftimeperiodid
	LEFT JOIN t_branch b ON b.id = s.fbranchid
	LEFT JOIN t_adv a ON a.id = s.fadvid
	LEFT JOIN t_branch_source_release r ON r.FSourceId =s.ID
	LEFT JOIN t_contract_adv_resource car ON car.id = s.fguid
	LEFT JOIN t_contract_adv ca ON ca.id = car.fcontractadvId
	LEFT JOIN t_contract c ON c.id = ca.FContractId
	WHERE
	<if test="release == 1">
	     ( s.ID IN (SELECT bsr.FSourceId FROM t_branch_source_release bsr WHERE bsr.fbranchid = #{fbranchid,jdbcType=BIGINT})) 
	</if>
	<if test="release == 0">
	     ( s.ID NOT IN (SELECT bsr.FSourceId FROM t_branch_source_release bsr WHERE bsr.fbranchid = #{fbranchid,jdbcType=BIGINT})) 
		<if test="advIdList != null">
			AND s.FAdvId IN 
			<foreach item="advId" index="index" collection="advIdList" open="(" separator="," close=")">
		    	#{advId}
		    </foreach>
		</if>
	</if>
	<if test="fadvid != null">
	    AND s.FAdvid = #{fadvid,jdbcType=BIGINT}
	</if>
	<if test="queryKeyWord != null">
	    AND c.FTitle LIKE '%${queryKeyWord}%'
	</if>
	<if test="queryStartTime != null and queryEndTime != null">
	    AND s.FCreateTime BETWEEN #{queryStartTime,jdbcType=VARCHAR} AND #{queryEndTime,jdbcType=VARCHAR}
	</if>
	ORDER BY ID DESC
    <if test="limit != 0">
        limit #{start,jdbcType=INTEGER},#{limit,jdbcType=INTEGER}
    </if>
  </select>
  <select id="count"  parameterType="com.evmtv.epg.entity.TSource" resultType="java.lang.Integer">
    SELECT DISTINCT count(*) FROM t_source s
	LEFT JOIN t_branch_source_release r ON r.FSourceId =s.ID 
	LEFT JOIN t_contract_adv_resource car ON car.id = s.fguid
	LEFT JOIN t_contract_adv ca ON ca.id = car.fcontractadvId
	LEFT JOIN t_contract c ON c.id = ca.FContractId
	<!-- WHERE (s.FIsProvinceCompany = 1 OR (s.FIsProvinceCompany != 1 AND s.FBranchId = #{fbranchid,jdbcType=BIGINT})) -->
	WHERE
	<if test="release == 1">
	     ( s.ID IN (SELECT bsr.FSourceId FROM t_branch_source_release bsr WHERE bsr.fbranchid = #{fbranchid,jdbcType=BIGINT})) 
	</if>
	<if test="release == 0">
	     ( s.ID NOT IN (SELECT bsr.FSourceId FROM t_branch_source_release bsr WHERE bsr.fbranchid = #{fbranchid,jdbcType=BIGINT})) 
		<if test="advIdList != null">
			AND s.FAdvId IN 
			<foreach item="advId" index="index" collection="advIdList" open="(" separator="," close=")">
		    	#{advId}
		    </foreach>
		</if>
	</if>
	<if test="fadvid != null">
	    AND s.FAdvid = #{fadvid,jdbcType=BIGINT}
	</if>
	<if test="queryKeyWord != null">
	    AND c.FTitle LIKE '%${queryKeyWord}%'
	</if>
	<if test="queryStartTime != null and queryEndTime != null">
	    AND s.FCreateTime BETWEEN #{queryStartTime,jdbcType=VARCHAR} AND #{queryEndTime,jdbcType=VARCHAR}
	</if>
  </select>
  <!-- 我的任务 -->
  <select id="selectMyTask" resultMap="BaseResultMap" parameterType="com.evmtv.epg.entity.TSource" >
      SELECT DISTINCT 
      car.FSourceId id,c.FTitle FName,c.FStartTime startdate,c.FEndTime enddate,c.FBranchId,
      ca.FContractId,car.ID carid,ca.ID caid, r.ID FResourceId,r.FPath,r.fwidth,r.fheight,
      r.FCreateTime,car.FUseStartTime fstarttime, car.FUseEndTime fendtime, a.FType,
      a.FDefinition,b.FName branch
      FROM t_contract_adv_resource car
      LEFT JOIN t_resource r ON r.ID = car.FResourceId
      LEFT JOIN t_contract_adv ca ON ca.ID = car.FContractAdvId
      LEFT JOIN t_contract c ON c.ID = ca.FContractId
      LEFT JOIN t_branch b ON b.Id = c.FBranchId
      LEFT JOIN t_adv a ON a.ID = ca.FAdvId
      
      WHERE 1=1<!-- car.FNodeId = #{nodeid,jdbcType=BIGINT} AND -->
    <if test="fbranchid != null">
    	AND c.FBranchid = #{fbranchid,jdbctype=BIGINT}
    </if>
    <if test="fcreateuserid == null">
      	AND car.FOrder = #{forder,jdbcType=BIGINT}
    </if>
	<if test="queryKeyWord != null">
	    AND c.FTitle LIKE '%${queryKeyWord}%'
	</if>
	<if test="fcreateuserid != null">
		AND c.FCreateUserId = #{fcreateuserid,jdbcType=BIGINT}
	</if>
	<if test="queryStartTime != null and queryEndTime != null">
	    AND car.FUseStartTime BETWEEN #{queryStartTime,jdbcType=VARCHAR} AND #{queryEndTime,jdbcType=VARCHAR}
	    OR car.FUseEndTime BETWEEN #{queryStartTime,jdbcType=VARCHAR} AND #{queryEndTime,jdbcType=VARCHAR}
	</if>
    ORDER BY TIMESTAMPDIFF(SECOND,c.FCreateTime,CURDATE()) DESC
    <if test="limit != 0">
        limit #{start,jdbcType=INTEGER},#{limit,jdbcType=INTEGER}
    </if>
  </select>
  <select id="countMyTask"  parameterType="com.evmtv.epg.entity.TSource" resultType="java.lang.Integer">
    SELECT DISTINCT count(*) FROM t_contract_adv_resource car
      LEFT JOIN t_contract_adv ca ON ca.ID = car.FContractAdvId
      LEFT JOIN t_contract c ON c.ID = ca.FContractId
      WHERE  1=1<!-- car.FNodeId = #{nodeid,jdbcType=BIGINT} AND -->
    <if test="fbranchid != null">
    	AND c.FBranchid = #{fbranchid,jdbctype=BIGINT}
    </if>
    <if test="fcreateuserid == null">
     	AND car.FOrder = #{forder,jdbcType=BIGINT}
    </if>
	<if test="queryKeyWord != null">
	    AND c.FTitle LIKE '%${queryKeyWord}%'
	</if>
	<if test="fcreateuserid != null">
		AND c.FCreateUserId = #{fcreateuserid,jdbcType=BIGINT}
	</if>
	<if test="queryStartTime != null and queryEndTime != null">
	    AND car.FUseStartTime BETWEEN #{queryStartTime,jdbcType=VARCHAR} AND #{queryEndTime,jdbcType=VARCHAR}
	    OR car.FUseEndTime BETWEEN #{queryStartTime,jdbcType=VARCHAR} AND #{queryEndTime,jdbcType=VARCHAR}
	</if>
  </select>
  <!-- 根据id查询合同广告关联id-->
  <select id="selectByfguid" resultType="java.lang.String" parameterType="com.evmtv.epg.entity.TSourceExample" >
    select fguid from t_source
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  
  
  
  <!-- 广告发布 -->
  <select id="selectSourceRelease" resultMap="BaseResultMap" parameterType="com.evmtv.epg.entity.TSource">
  	SELECT car.FContractAdvId AS caid,car.ID AS carid,car.FUseEndTime,car.FUseStartTime,
		srv.FReleaseVersionId,srv.ID AS srvid,s.FAdvId,s.FPath,s.FTimePeriodId,s.FFontColor,
		s.ID,s.FVersion,s.FName,s.FWidth,s.FHeight,s.FContractId,s.FDuration,a.FType,a.FPositionId,
		s.FDefinition,s.FTableId,s.FPid,s.FExpand,s.FGUID,t.FStartTime,t.FEndTime,t.ID tid
	FROM t_source AS s
	LEFT JOIN t_source_release_version AS srv ON s.ID = srv.FSourceId
	LEFT JOIN t_contract_adv_resource AS car ON s.ID = car.FSourceId
	LEFT JOIN t_time_period AS t ON t.ID = s.FTimePeriodId
	LEFT JOIN t_adv AS a ON a.ID = s.FAdvId
	<where>
		1=1
		<!-- 已发布 -->
		<if test="freleaseversionid != null">
			AND srv.FReleaseVersionId = #{freleaseversionid,jdbcType=BIGINT}
			<if test="fbranchid != null">
				AND srv.FBranchId = #{fbranchid,jdbcType=BIGINT}
			</if>
		</if>
		<!-- 未发布 -->
		<if test="freleaseversionid == null">
			<if test="advIdList != null">
				AND s.FAdvId IN 
				<foreach item="advId" index="index" collection="advIdList" open="(" separator="," close=")">
			    	#{advId}
			    </foreach>
			</if>
			AND s.ID NOT IN (SELECT FSourceId FROM t_source_release_version WHERE FBranchId = #{fbranchid,jdbcType=BIGINT})
		</if>
		<if test="fadvid != null">
		    AND s.FAdvid = #{fadvid,jdbcType=BIGINT}
		</if>
		<if test="ftimeperiodid != null">
			AND s.FTimeperiodId = #{ftimeperiodid,jdbcType=BIGINT}
		</if>
		<if test="fdefinition != null">
			AND s.FDefinition = #{fdefinition,jdbcType=VARCHAR}
		</if>
	</where>
	<if test="limit != 0">
		LIMIT #{start,jdbcType=INTEGER},#{limit,jdbcType=INTEGER}
	</if>
  </select>
  <select id="countSourceRelease" resultType="java.lang.Integer" parameterType="com.evmtv.epg.entity.TSource">
  	SELECT count(*) FROM t_source AS s
	LEFT JOIN t_source_release_version AS srv ON s.ID = srv.FSourceId
	LEFT JOIN t_contract_adv_resource AS car ON s.ID = car.FSourceId
	<where>
		1=1
		<!-- 已发布 -->
		<if test="freleaseversionid != null">
			AND srv.FReleaseVersionId = #{freleaseversionid,jdbcType=BIGINT}
			<if test="fbranchid != null">
				AND srv.FBranchId = #{fbranchid,jdbcType=BIGINT}
			</if>
		</if>
		<!-- 未发布 -->
		<if test="freleaseversionid == null">
			<if test="advIdList != null">
				AND s.FAdvId IN 
				<foreach item="advId" index="index" collection="advIdList" open="(" separator="," close=")">
			    	#{advId}
			    </foreach>
			</if>
			AND srv.FSourceId IS NULL
		</if>
		<if test="fadvid != null">
		    AND s.FAdvid = #{fadvid,jdbcType=BIGINT}
		</if>
		<if test="ftimeperiodid != null">
			AND s.FTimeperiodId = #{ftimeperiodid,jdbcType=BIGINT}
		</if>
		<if test="fdefinition != null">
			AND s.FDefinition = #{fdefinition,jdbcType=VARCHAR}
		</if>
	</where>
  </select>
  <!-- 根据素材索引查询广告索引 -->
  <select id="selectSidByRid" resultType="java.lang.Long" parameterType="java.lang.Long" >
    select ID from t_source WHERE FResourceId = #{rid,jdbcType=INTEGER}
  </select>
</mapper>