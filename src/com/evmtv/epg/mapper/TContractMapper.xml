<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.evmtv.epg.mapper.TContractMapper" >
  <resultMap id="BaseResultMap" type="com.evmtv.epg.entity.TContract" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 11 10:50:18 CST 2013.
    -->
    <id column="ID" property="id" jdbcType="BIGINT" />
    <result column="FGUID" property="fguid" jdbcType="VARCHAR" />
    <result column="FAdvName" property="fadvname" jdbcType="VARCHAR" />
    <result column="FAdvLocId" property="fadvlocid" jdbcType="INTEGER" />
    <result column="FAdvLevel" property="fadvlevel" jdbcType="VARCHAR" />
    <result column="FDefinition" property="fdefinition" jdbcType="VARCHAR" />
    <result column="FAgent" property="fagent" jdbcType="VARCHAR" />
    <result column="FBranchId" property="fbranchid" jdbcType="BIGINT" />
    <result column="FCreateTime" property="fcreatetime" jdbcType="VARCHAR" />
    <result column="FCreateUserId" property="fcreateuserid" jdbcType="BIGINT" />
    <result column="FUpdateTime" property="fupdatetime" jdbcType="VARCHAR" />
    <result column="FUpdateUserId" property="fupdateuserid" jdbcType="BIGINT" />
    <result column="FContactName" property="fcontactname" jdbcType="VARCHAR" />
    <result column="FContactTel" property="fcontacttel" jdbcType="VARCHAR" />
    <result column="FStartTime" property="fstarttime" jdbcType="VARCHAR" />
    <result column="FEndTime" property="fendtime" jdbcType="VARCHAR" />
    <result column="FPrice" property="fprice" jdbcType="VARCHAR" />
    <result column="FDiscount" property="fdiscount" jdbcType="VARCHAR" />
    <result column="FPayWay" property="fpayway" jdbcType="VARCHAR" />
    <result column="FDeleted" property="fdeleted" jdbcType="CHAR" />
    <result column="FChecked" property="fchecked" jdbcType="CHAR" />
    <result column="FFreezed" property="ffreezed" jdbcType="CHAR" />
    <result column="FTitle" property="ftitle" jdbcType="VARCHAR" />
    <result column="FFilePath" property="ffilepath" jdbcType="VARCHAR" />
    <result column="FFileTitle" property="ffiletitle" jdbcType="VARCHAR" />
    <result column="FPicTitle" property="fpictitle" jdbcType="VARCHAR" />
  </resultMap>
  <resultMap id="ResultMapWithBLOBs" type="com.evmtv.epg.entity.TContractWithBLOBs" extends="BaseResultMap" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 11 10:50:18 CST 2013.
    -->
    <result column="FContent" property="fcontent" jdbcType="LONGVARCHAR" />
    <result column="FExpand" property="fexpand" jdbcType="LONGVARCHAR" />
    <result column="FRemark" property="fremark" jdbcType="LONGVARCHAR" />
  </resultMap>
  <sql id="Example_Where_Clause" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 11 10:50:18 CST 2013.
    -->
    <where >
      <foreach collection="oredCriteria" item="criteria" separator="or" >
        <if test="criteria.valid" >
          <trim prefix="(" suffix=")" prefixOverrides="and" >
            <foreach collection="criteria.criteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 11 10:50:18 CST 2013.
    -->
    <where >
      <foreach collection="example.oredCriteria" item="criteria" separator="or" >
        <if test="criteria.valid" >
          <trim prefix="(" suffix=")" prefixOverrides="and" >
            <foreach collection="criteria.criteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 11 10:50:18 CST 2013.
    -->
    ID, FGUID, FAdvName, FAdvLocId, FAdvLevel, FDefinition, FAgent, FBranchId, FCreateTime, 
    FCreateUserId, FUpdateTime, FUpdateUserId, FContactName, FContactTel, FStartTime, 
    FEndTime, FPrice, FDiscount, FPayWay, FDeleted, FChecked, FFreezed, FTitle, FFilePath, 
    FFileTitle, FPicTitle
  </sql>
  <sql id="Blob_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 11 10:50:18 CST 2013.
    -->
    FContent, FExpand, FRemark
  </sql>
  <select id="selectByExampleWithBLOBs" resultMap="ResultMapWithBLOBs" parameterType="com.evmtv.epg.entity.TContractExample" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 11 10:50:18 CST 2013.
    -->
    select
    <if test="distinct" >
      distinct
    </if>
    <include refid="Base_Column_List" />
    ,
    <include refid="Blob_Column_List" />
    from t_contract
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null" >
      order by ${orderByClause}
    </if>
    <if test="limit != 0">
    	limit #{start,jdbcType=INTEGER},#{limit,jdbcType=INTEGER}
    </if>
  </select>
  <select id="selectByExample" resultMap="BaseResultMap" parameterType="com.evmtv.epg.entity.TContractExample" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 11 10:50:18 CST 2013.
    -->
    select
    <if test="distinct" >
      distinct
    </if>
    t_adv.ftype as temp,FAdvLocId, t_contract.FDefinition,FContactName, t_contract.FBranchId,FTitle ,FAdvName,t_contract.ID,t_adv.FPositionId fpositionid
    from t_contract
    	left join t_adv on t_adv.id = t_contract.fadvlocid
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null" >
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectByPrimaryKey" resultMap="ResultMapWithBLOBs" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 11 10:50:18 CST 2013.
    -->
    select 
    <include refid="Base_Column_List" />
    ,
    <include refid="Blob_Column_List" />
    from t_contract
    where ID = #{id,jdbcType=BIGINT}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 11 10:50:18 CST 2013.
    -->
    delete from t_contract
    where ID = #{id,jdbcType=BIGINT}
  </delete>
  <delete id="deleteByExample" parameterType="com.evmtv.epg.entity.TContractExample" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 11 10:50:18 CST 2013.
    -->
    delete from t_contract
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="com.evmtv.epg.entity.TContractWithBLOBs" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 11 10:50:18 CST 2013.
    -->
    insert into t_contract (ID, FGUID, FAdvName, 
      FAdvLocId, FAdvLevel, FDefinition, 
      FAgent, FBranchId, FCreateTime, 
      FCreateUserId, FUpdateTime, FUpdateUserId, 
      FContactName, FContactTel, FStartTime, 
      FEndTime, FPrice, FDiscount, 
      FPayWay, FDeleted, FChecked, 
      FFreezed, FTitle, FFilePath, 
      FFileTitle, FPicTitle, FContent, 
      FExpand, FRemark)
    values (#{id,jdbcType=BIGINT}, #{fguid,jdbcType=VARCHAR}, #{fadvname,jdbcType=VARCHAR}, 
      #{fadvlocid,jdbcType=INTEGER}, #{fadvlevel,jdbcType=VARCHAR}, #{fdefinition,jdbcType=VARCHAR}, 
      #{fagent,jdbcType=VARCHAR}, #{fbranchid,jdbcType=BIGINT}, #{fcreatetime,jdbcType=VARCHAR}, 
      #{fcreateuserid,jdbcType=BIGINT}, #{fupdatetime,jdbcType=VARCHAR}, #{fupdateuserid,jdbcType=BIGINT}, 
      #{fcontactname,jdbcType=VARCHAR}, #{fcontacttel,jdbcType=VARCHAR}, #{fstarttime,jdbcType=VARCHAR}, 
      #{fendtime,jdbcType=VARCHAR}, #{fprice,jdbcType=VARCHAR}, #{fdiscount,jdbcType=VARCHAR}, 
      #{fpayway,jdbcType=VARCHAR}, #{fdeleted,jdbcType=CHAR}, #{fchecked,jdbcType=CHAR}, 
      #{ffreezed,jdbcType=CHAR}, #{ftitle,jdbcType=VARCHAR}, #{ffilepath,jdbcType=VARCHAR}, 
      #{ffiletitle,jdbcType=VARCHAR}, #{fpictitle,jdbcType=VARCHAR}, #{fcontent,jdbcType=LONGVARCHAR}, 
      #{fexpand,jdbcType=LONGVARCHAR}, #{fremark,jdbcType=LONGVARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.evmtv.epg.entity.TContractWithBLOBs" useGeneratedKeys="true" keyProperty="id">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 11 10:50:18 CST 2013.
    -->
    insert into t_contract
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        ID,
      </if>
      <if test="fguid != null" >
        FGUID,
      </if>
      <if test="fadvname != null" >
        FAdvName,
      </if>
      <if test="fadvlocid != null" >
        FAdvLocId,
      </if>
      <if test="fadvlevel != null" >
        FAdvLevel,
      </if>
      <if test="fdefinition != null" >
        FDefinition,
      </if>
      <if test="fagent != null" >
        FAgent,
      </if>
      <if test="fbranchid != null" >
        FBranchId,
      </if>
      <if test="fcreatetime != null" >
        FCreateTime,
      </if>
      <if test="fcreateuserid != null" >
        FCreateUserId,
      </if>
      <if test="fupdatetime != null" >
        FUpdateTime,
      </if>
      <if test="fupdateuserid != null" >
        FUpdateUserId,
      </if>
      <if test="fcontactname != null" >
        FContactName,
      </if>
      <if test="fcontacttel != null" >
        FContactTel,
      </if>
      <if test="fstarttime != null" >
        FStartTime,
      </if>
      <if test="fendtime != null" >
        FEndTime,
      </if>
      <if test="fprice != null" >
        FPrice,
      </if>
      <if test="fdiscount != null" >
        FDiscount,
      </if>
      <if test="fpayway != null" >
        FPayWay,
      </if>
      <if test="fdeleted != null" >
        FDeleted,
      </if>
      <if test="fchecked != null" >
        FChecked,
      </if>
      <if test="ffreezed != null" >
        FFreezed,
      </if>
      <if test="ftitle != null" >
        FTitle,
      </if>
      <if test="ffilepath != null" >
        FFilePath,
      </if>
      <if test="ffiletitle != null" >
        FFileTitle,
      </if>
      <if test="fpictitle != null" >
        FPicTitle,
      </if>
      <if test="fcontent != null" >
        FContent,
      </if>
      <if test="fexpand != null" >
        FExpand,
      </if>
      <if test="fremark != null" >
        FRemark,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=BIGINT},
      </if>
      <if test="fguid != null" >
        #{fguid,jdbcType=VARCHAR},
      </if>
      <if test="fadvname != null" >
        #{fadvname,jdbcType=VARCHAR},
      </if>
      <if test="fadvlocid != null" >
        #{fadvlocid,jdbcType=INTEGER},
      </if>
      <if test="fadvlevel != null" >
        #{fadvlevel,jdbcType=VARCHAR},
      </if>
      <if test="fdefinition != null" >
        #{fdefinition,jdbcType=VARCHAR},
      </if>
      <if test="fagent != null" >
        #{fagent,jdbcType=VARCHAR},
      </if>
      <if test="fbranchid != null" >
        #{fbranchid,jdbcType=BIGINT},
      </if>
      <if test="fcreatetime != null" >
        #{fcreatetime,jdbcType=VARCHAR},
      </if>
      <if test="fcreateuserid != null" >
        #{fcreateuserid,jdbcType=BIGINT},
      </if>
      <if test="fupdatetime != null" >
        #{fupdatetime,jdbcType=VARCHAR},
      </if>
      <if test="fupdateuserid != null" >
        #{fupdateuserid,jdbcType=BIGINT},
      </if>
      <if test="fcontactname != null" >
        #{fcontactname,jdbcType=VARCHAR},
      </if>
      <if test="fcontacttel != null" >
        #{fcontacttel,jdbcType=VARCHAR},
      </if>
      <if test="fstarttime != null" >
        #{fstarttime,jdbcType=VARCHAR},
      </if>
      <if test="fendtime != null" >
        #{fendtime,jdbcType=VARCHAR},
      </if>
      <if test="fprice != null" >
        #{fprice,jdbcType=VARCHAR},
      </if>
      <if test="fdiscount != null" >
        #{fdiscount,jdbcType=VARCHAR},
      </if>
      <if test="fpayway != null" >
        #{fpayway,jdbcType=VARCHAR},
      </if>
      <if test="fdeleted != null" >
        #{fdeleted,jdbcType=CHAR},
      </if>
      <if test="fchecked != null" >
        #{fchecked,jdbcType=CHAR},
      </if>
      <if test="ffreezed != null" >
        #{ffreezed,jdbcType=CHAR},
      </if>
      <if test="ftitle != null" >
        #{ftitle,jdbcType=VARCHAR},
      </if>
      <if test="ffilepath != null" >
        #{ffilepath,jdbcType=VARCHAR},
      </if>
      <if test="ffiletitle != null" >
        #{ffiletitle,jdbcType=VARCHAR},
      </if>
      <if test="fpictitle != null" >
        #{fpictitle,jdbcType=VARCHAR},
      </if>
      <if test="fcontent != null" >
        #{fcontent,jdbcType=LONGVARCHAR},
      </if>
      <if test="fexpand != null" >
        #{fexpand,jdbcType=LONGVARCHAR},
      </if>
      <if test="fremark != null" >
        #{fremark,jdbcType=LONGVARCHAR},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="com.evmtv.epg.entity.TContractExample" resultType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 11 10:50:18 CST 2013.
    -->
    select count(*) from t_contract
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 11 10:50:18 CST 2013.
    -->
    update t_contract
    <set >
      <if test="record.id != null" >
        ID = #{record.id,jdbcType=BIGINT},
      </if>
      <if test="record.fguid != null" >
        FGUID = #{record.fguid,jdbcType=VARCHAR},
      </if>
      <if test="record.fadvname != null" >
        FAdvName = #{record.fadvname,jdbcType=VARCHAR},
      </if>
      <if test="record.fadvlocid != null" >
        FAdvLocId = #{record.fadvlocid,jdbcType=INTEGER},
      </if>
      <if test="record.fadvlevel != null" >
        FAdvLevel = #{record.fadvlevel,jdbcType=VARCHAR},
      </if>
      <if test="record.fdefinition != null" >
        FDefinition = #{record.fdefinition,jdbcType=VARCHAR},
      </if>
      <if test="record.fagent != null" >
        FAgent = #{record.fagent,jdbcType=VARCHAR},
      </if>
      <if test="record.fbranchid != null" >
        FBranchId = #{record.fbranchid,jdbcType=BIGINT},
      </if>
      <if test="record.fcreatetime != null" >
        FCreateTime = #{record.fcreatetime,jdbcType=VARCHAR},
      </if>
      <if test="record.fcreateuserid != null" >
        FCreateUserId = #{record.fcreateuserid,jdbcType=BIGINT},
      </if>
      <if test="record.fupdatetime != null" >
        FUpdateTime = #{record.fupdatetime,jdbcType=VARCHAR},
      </if>
      <if test="record.fupdateuserid != null" >
        FUpdateUserId = #{record.fupdateuserid,jdbcType=BIGINT},
      </if>
      <if test="record.fcontactname != null" >
        FContactName = #{record.fcontactname,jdbcType=VARCHAR},
      </if>
      <if test="record.fcontacttel != null" >
        FContactTel = #{record.fcontacttel,jdbcType=VARCHAR},
      </if>
      <if test="record.fstarttime != null" >
        FStartTime = #{record.fstarttime,jdbcType=VARCHAR},
      </if>
      <if test="record.fendtime != null" >
        FEndTime = #{record.fendtime,jdbcType=VARCHAR},
      </if>
      <if test="record.fprice != null" >
        FPrice = #{record.fprice,jdbcType=VARCHAR},
      </if>
      <if test="record.fdiscount != null" >
        FDiscount = #{record.fdiscount,jdbcType=VARCHAR},
      </if>
      <if test="record.fpayway != null" >
        FPayWay = #{record.fpayway,jdbcType=VARCHAR},
      </if>
      <if test="record.fdeleted != null" >
        FDeleted = #{record.fdeleted,jdbcType=CHAR},
      </if>
      <if test="record.fchecked != null" >
        FChecked = #{record.fchecked,jdbcType=CHAR},
      </if>
      <if test="record.ffreezed != null" >
        FFreezed = #{record.ffreezed,jdbcType=CHAR},
      </if>
      <if test="record.ftitle != null" >
        FTitle = #{record.ftitle,jdbcType=VARCHAR},
      </if>
      <if test="record.ffilepath != null" >
        FFilePath = #{record.ffilepath,jdbcType=VARCHAR},
      </if>
      <if test="record.ffiletitle != null" >
        FFileTitle = #{record.ffiletitle,jdbcType=VARCHAR},
      </if>
      <if test="record.fpictitle != null" >
        FPicTitle = #{record.fpictitle,jdbcType=VARCHAR},
      </if>
      <if test="record.fcontent != null" >
        FContent = #{record.fcontent,jdbcType=LONGVARCHAR},
      </if>
      <if test="record.fexpand != null" >
        FExpand = #{record.fexpand,jdbcType=LONGVARCHAR},
      </if>
      <if test="record.fremark != null" >
        FRemark = #{record.fremark,jdbcType=LONGVARCHAR},
      </if>
    </set>
    <if test="_parameter != null" >
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExampleWithBLOBs" parameterType="map" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 11 10:50:18 CST 2013.
    -->
    update t_contract
    set ID = #{record.id,jdbcType=BIGINT},
      FGUID = #{record.fguid,jdbcType=VARCHAR},
      FAdvName = #{record.fadvname,jdbcType=VARCHAR},
      FAdvLocId = #{record.fadvlocid,jdbcType=INTEGER},
      FAdvLevel = #{record.fadvlevel,jdbcType=VARCHAR},
      FDefinition = #{record.fdefinition,jdbcType=VARCHAR},
      FAgent = #{record.fagent,jdbcType=VARCHAR},
      FBranchId = #{record.fbranchid,jdbcType=BIGINT},
      FCreateTime = #{record.fcreatetime,jdbcType=VARCHAR},
      FCreateUserId = #{record.fcreateuserid,jdbcType=BIGINT},
      FUpdateTime = #{record.fupdatetime,jdbcType=VARCHAR},
      FUpdateUserId = #{record.fupdateuserid,jdbcType=BIGINT},
      FContactName = #{record.fcontactname,jdbcType=VARCHAR},
      FContactTel = #{record.fcontacttel,jdbcType=VARCHAR},
      FStartTime = #{record.fstarttime,jdbcType=VARCHAR},
      FEndTime = #{record.fendtime,jdbcType=VARCHAR},
      FPrice = #{record.fprice,jdbcType=VARCHAR},
      FDiscount = #{record.fdiscount,jdbcType=VARCHAR},
      FPayWay = #{record.fpayway,jdbcType=VARCHAR},
      FDeleted = #{record.fdeleted,jdbcType=CHAR},
      FChecked = #{record.fchecked,jdbcType=CHAR},
      FFreezed = #{record.ffreezed,jdbcType=CHAR},
      FTitle = #{record.ftitle,jdbcType=VARCHAR},
      FFilePath = #{record.ffilepath,jdbcType=VARCHAR},
      FFileTitle = #{record.ffiletitle,jdbcType=VARCHAR},
      FPicTitle = #{record.fpictitle,jdbcType=VARCHAR},
      FContent = #{record.fcontent,jdbcType=LONGVARCHAR},
      FExpand = #{record.fexpand,jdbcType=LONGVARCHAR},
      FRemark = #{record.fremark,jdbcType=LONGVARCHAR}
    <if test="_parameter != null" >
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 11 10:50:18 CST 2013.
    -->
    update t_contract
    set ID = #{record.id,jdbcType=BIGINT},
      FGUID = #{record.fguid,jdbcType=VARCHAR},
      FAdvName = #{record.fadvname,jdbcType=VARCHAR},
      FAdvLocId = #{record.fadvlocid,jdbcType=INTEGER},
      FAdvLevel = #{record.fadvlevel,jdbcType=VARCHAR},
      FDefinition = #{record.fdefinition,jdbcType=VARCHAR},
      FAgent = #{record.fagent,jdbcType=VARCHAR},
      FBranchId = #{record.fbranchid,jdbcType=BIGINT},
      FCreateTime = #{record.fcreatetime,jdbcType=VARCHAR},
      FCreateUserId = #{record.fcreateuserid,jdbcType=BIGINT},
      FUpdateTime = #{record.fupdatetime,jdbcType=VARCHAR},
      FUpdateUserId = #{record.fupdateuserid,jdbcType=BIGINT},
      FContactName = #{record.fcontactname,jdbcType=VARCHAR},
      FContactTel = #{record.fcontacttel,jdbcType=VARCHAR},
      FStartTime = #{record.fstarttime,jdbcType=VARCHAR},
      FEndTime = #{record.fendtime,jdbcType=VARCHAR},
      FPrice = #{record.fprice,jdbcType=VARCHAR},
      FDiscount = #{record.fdiscount,jdbcType=VARCHAR},
      FPayWay = #{record.fpayway,jdbcType=VARCHAR},
      FDeleted = #{record.fdeleted,jdbcType=CHAR},
      FChecked = #{record.fchecked,jdbcType=CHAR},
      FFreezed = #{record.ffreezed,jdbcType=CHAR},
      FTitle = #{record.ftitle,jdbcType=VARCHAR},
      FFilePath = #{record.ffilepath,jdbcType=VARCHAR},
      FFileTitle = #{record.ffiletitle,jdbcType=VARCHAR},
      FPicTitle = #{record.fpictitle,jdbcType=VARCHAR}
    <if test="_parameter != null" >
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="com.evmtv.epg.entity.TContractWithBLOBs" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 11 10:50:18 CST 2013.
    -->
    update t_contract
    <set >
      <if test="fguid != null" >
        FGUID = #{fguid,jdbcType=VARCHAR},
      </if>
      <if test="fadvname != null" >
        FAdvName = #{fadvname,jdbcType=VARCHAR},
      </if>
      <if test="fadvlocid != null" >
        FAdvLocId = #{fadvlocid,jdbcType=INTEGER},
      </if>
      <if test="fadvlevel != null" >
        FAdvLevel = #{fadvlevel,jdbcType=VARCHAR},
      </if>
      <if test="fdefinition != null" >
        FDefinition = #{fdefinition,jdbcType=VARCHAR},
      </if>
      <if test="fagent != null" >
        FAgent = #{fagent,jdbcType=VARCHAR},
      </if>
      <if test="fbranchid != null" >
        FBranchId = #{fbranchid,jdbcType=BIGINT},
      </if>
      <if test="fcreatetime != null" >
        FCreateTime = #{fcreatetime,jdbcType=VARCHAR},
      </if>
      <if test="fcreateuserid != null" >
        FCreateUserId = #{fcreateuserid,jdbcType=BIGINT},
      </if>
      <if test="fupdatetime != null" >
        FUpdateTime = #{fupdatetime,jdbcType=VARCHAR},
      </if>
      <if test="fupdateuserid != null" >
        FUpdateUserId = #{fupdateuserid,jdbcType=BIGINT},
      </if>
      <if test="fcontactname != null" >
        FContactName = #{fcontactname,jdbcType=VARCHAR},
      </if>
      <if test="fcontacttel != null" >
        FContactTel = #{fcontacttel,jdbcType=VARCHAR},
      </if>
      <if test="fstarttime != null" >
        FStartTime = #{fstarttime,jdbcType=VARCHAR},
      </if>
      <if test="fendtime != null" >
        FEndTime = #{fendtime,jdbcType=VARCHAR},
      </if>
      <if test="fprice != null" >
        FPrice = #{fprice,jdbcType=VARCHAR},
      </if>
      <if test="fdiscount != null" >
        FDiscount = #{fdiscount,jdbcType=VARCHAR},
      </if>
      <if test="fpayway != null" >
        FPayWay = #{fpayway,jdbcType=VARCHAR},
      </if>
      <if test="fdeleted != null" >
        FDeleted = #{fdeleted,jdbcType=CHAR},
      </if>
      <if test="fchecked != null" >
        FChecked = #{fchecked,jdbcType=CHAR},
      </if>
      <if test="ffreezed != null" >
        FFreezed = #{ffreezed,jdbcType=CHAR},
      </if>
      <if test="ftitle != null" >
        FTitle = #{ftitle,jdbcType=VARCHAR},
      </if>
      <if test="ffilepath != null" >
        FFilePath = #{ffilepath,jdbcType=VARCHAR},
      </if>
      <if test="ffiletitle != null" >
        FFileTitle = #{ffiletitle,jdbcType=VARCHAR},
      </if>
      <if test="fpictitle != null" >
        FPicTitle = #{fpictitle,jdbcType=VARCHAR},
      </if>
      <if test="fcontent != null" >
        FContent = #{fcontent,jdbcType=LONGVARCHAR},
      </if>
      <if test="fexpand != null" >
        FExpand = #{fexpand,jdbcType=LONGVARCHAR},
      </if>
      <if test="fremark != null" >
        FRemark = #{fremark,jdbcType=LONGVARCHAR},
      </if>
    </set>
    where ID = #{id,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKeyWithBLOBs" parameterType="com.evmtv.epg.entity.TContractWithBLOBs" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 11 10:50:18 CST 2013.
    -->
    update t_contract
    set FGUID = #{fguid,jdbcType=VARCHAR},
      FAdvName = #{fadvname,jdbcType=VARCHAR},
      FAdvLocId = #{fadvlocid,jdbcType=INTEGER},
      FAdvLevel = #{fadvlevel,jdbcType=VARCHAR},
      FDefinition = #{fdefinition,jdbcType=VARCHAR},
      FAgent = #{fagent,jdbcType=VARCHAR},
      FBranchId = #{fbranchid,jdbcType=BIGINT},
      FCreateTime = #{fcreatetime,jdbcType=VARCHAR},
      FCreateUserId = #{fcreateuserid,jdbcType=BIGINT},
      FUpdateTime = #{fupdatetime,jdbcType=VARCHAR},
      FUpdateUserId = #{fupdateuserid,jdbcType=BIGINT},
      FContactName = #{fcontactname,jdbcType=VARCHAR},
      FContactTel = #{fcontacttel,jdbcType=VARCHAR},
      FStartTime = #{fstarttime,jdbcType=VARCHAR},
      FEndTime = #{fendtime,jdbcType=VARCHAR},
      FPrice = #{fprice,jdbcType=VARCHAR},
      FDiscount = #{fdiscount,jdbcType=VARCHAR},
      FPayWay = #{fpayway,jdbcType=VARCHAR},
      FDeleted = #{fdeleted,jdbcType=CHAR},
      FChecked = #{fchecked,jdbcType=CHAR},
      FFreezed = #{ffreezed,jdbcType=CHAR},
      FTitle = #{ftitle,jdbcType=VARCHAR},
      FFilePath = #{ffilepath,jdbcType=VARCHAR},
      FFileTitle = #{ffiletitle,jdbcType=VARCHAR},
      FPicTitle = #{fpictitle,jdbcType=VARCHAR},
      FContent = #{fcontent,jdbcType=LONGVARCHAR},
      FExpand = #{fexpand,jdbcType=LONGVARCHAR},
      FRemark = #{fremark,jdbcType=LONGVARCHAR}
    where ID = #{id,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.evmtv.epg.entity.TContract" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 11 10:50:18 CST 2013.
    -->
    update t_contract
    set FGUID = #{fguid,jdbcType=VARCHAR},
      FAdvName = #{fadvname,jdbcType=VARCHAR},
      FAdvLocId = #{fadvlocid,jdbcType=INTEGER},
      FAdvLevel = #{fadvlevel,jdbcType=VARCHAR},
      FDefinition = #{fdefinition,jdbcType=VARCHAR},
      FAgent = #{fagent,jdbcType=VARCHAR},
      FBranchId = #{fbranchid,jdbcType=BIGINT},
      FCreateTime = #{fcreatetime,jdbcType=VARCHAR},
      FCreateUserId = #{fcreateuserid,jdbcType=BIGINT},
      FUpdateTime = #{fupdatetime,jdbcType=VARCHAR},
      FUpdateUserId = #{fupdateuserid,jdbcType=BIGINT},
      FContactName = #{fcontactname,jdbcType=VARCHAR},
      FContactTel = #{fcontacttel,jdbcType=VARCHAR},
      FStartTime = #{fstarttime,jdbcType=VARCHAR},
      FEndTime = #{fendtime,jdbcType=VARCHAR},
      FPrice = #{fprice,jdbcType=VARCHAR},
      FDiscount = #{fdiscount,jdbcType=VARCHAR},
      FPayWay = #{fpayway,jdbcType=VARCHAR},
      FDeleted = #{fdeleted,jdbcType=CHAR},
      FChecked = #{fchecked,jdbcType=CHAR},
      FFreezed = #{ffreezed,jdbcType=CHAR},
      FTitle = #{ftitle,jdbcType=VARCHAR},
      FFilePath = #{ffilepath,jdbcType=VARCHAR},
      FFileTitle = #{ffiletitle,jdbcType=VARCHAR},
      FPicTitle = #{fpictitle,jdbcType=VARCHAR}
    where ID = #{id,jdbcType=BIGINT}
  </update>
  <select id="selectContract" parameterType="com.evmtv.epg.entity.TContractExample" resultType="com.evmtv.epg.response.ContractResponse">
	  select distinct
	    t_contract.id, t_contract.fguid,t_contract.ftitle,
	    t_contract.fadvname,t_contract.fadvlevel,
	    t_contract.fagent,t_contract.fdefinition, t_contract.fstarttime,
	    t_contract.fendtime, u1.fusername as fcreateuser, u2.fusername as fcheckuser,
	    t_contract.fcontactname, t_contract.fcontacttel,t_contract.fdiscount,
	    t_contract.fprice,t_contract.fpayway,
	    t_contract.fchecked, t_contract.ffreezed, t_contract.fdeleted
	    from t_contract
			left join t_user u1 on t_contract.fcreateuserid = u1.id
			left join t_user u2 on t_contract.fupdateuserid = u2.id
		<if test="_parameter != null" >
      		<include refid="Example_Where_Clause" />
    	</if>
	    order by TIMESTAMPDIFF(SECOND,t_contract.FStartTime,now())
	    <if test="limit != 0">
	    	limit #{start,jdbcType=INTEGER},#{limit,jdbcType=INTEGER}
	    </if>
  </select>
  
  <select id="selectStatistics" parameterType="com.evmtv.epg.statistics.StatisticsRequest" resultType="com.evmtv.epg.statistics.StatisticsResponse">
	select 
	  count(*) as contractNum,
	  <choose>
	  	<when test="statisType == 'month'">
	    	substring_index(FStartTime,"-",2) as contractVal
	  	</when>
	  	<otherwise>
	  		left(FStartTime,4) as contractVal
	  	</otherwise>
	  </choose>
	from t_contract
    <choose>
    	<when test="statisType == 'month'">
    		where FStartTime between #{startMonth,jdbcType=VARCHAR} and #{endMonth,jdbcType=VARCHAR}
    	</when>
    	<otherwise>
    		where FStartTime between #{startYear,jdbcType=VARCHAR} and #{endYear,jdbcType=VARCHAR}
    	</otherwise>
    </choose>
    <if test="branchid != 0">
	    and FBranchId = #{branchid,jdbcType=BIGINT}
	</if>
	group by contractVal order by contractVal
  </select>
  
  <select id="selectCompany"  parameterType="com.evmtv.epg.statistics.StatisticsRequest" resultType="com.evmtv.epg.statistics.StatisticsResponse">
  	select
  		sum(c.FPrice  * c.FDiscount ) as contractNum, 
  		b.FName as contractVal 
  	from  t_contract c 
  	left join t_branch b on c.FBranchId = b.ID 
  	where FStartTime between #{startYear,jdbcType=VARCHAR} and #{endYear,jdbcType=VARCHAR}
  	group by contractVal order by c.FBranchId;
  </select>
  
  <select id="selectAdv"  parameterType="com.evmtv.epg.statistics.StatisticsRequest" resultType="com.evmtv.epg.statistics.StatisticsResponse">
  	select
  		sum(c.FPrice  * c.FDiscount ) as contractNum, 
  		a.FType as contractVal 
  	from t_contract c
  	LEFT JOIN t_contract_adv car ON car.FContractId = c.ID
  	left join t_adv a on car.FAdvId = a.ID
  	where FStartTime between #{startYear,jdbcType=VARCHAR} and #{endYear,jdbcType=VARCHAR}
  	<if test="branchid != 0">
	    and c.FBranchId = #{branchid,jdbcType=BIGINT}
	</if>
  	group by a.FPositionID order by a.FPositionID;
  </select>
</mapper>